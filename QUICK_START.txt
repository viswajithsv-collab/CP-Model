╔══════════════════════════════════════════════════════════════════════╗
║              🫀 VAD SIMULATOR - QUICK START GUIDE 🫀                ║
╚══════════════════════════════════════════════════════════════════════╝

┌──────────────────────────────────────────────────────────────────────┐
│                     🎉 WHAT CHANGED - AT A GLANCE                    │
└──────────────────────────────────────────────────────────────────────┘

📦 OLD VERSION (app_vad_modern.py)
├─ Control Panel (top)
├─ 6 Separate Plots (3x2 grid)
│  ├─ Left Ventricle (2 subplots)
│  ├─ Right Ventricle (2 subplots)
│  ├─ PV Loops (2 subplots)
│  ├─ Arterial Pressures
│  ├─ Valve Flows (4 traces)
│  └─ Atrial Pressures
└─ Export Buttons (bottom)

Problem: TOO MUCH SCROLLING! 😓

✨ NEW VERSION (app_vad_single_plot.py)
├─ Control Panel (top)
├─ Main Area (side-by-side)
│  ├─ Left: All Controls (VAD, Heart, Vitals, Display)
│  └─ Right: ONE BIG PLOT
│     ├─ Signal Selector Buttons (7 options)
│     └─ Large Scrolling Display
├─ Metrics Row (bottom)
└─ Export Buttons (bottom)

Solution: EVERYTHING ON ONE SCREEN! 🚀

┌──────────────────────────────────────────────────────────────────────┐
│                        🎮 MAIN CONTROLS                               │
└──────────────────────────────────────────────────────────────────────┘

▶️  PLAY      Start/Resume simulation
⏸️  PAUSE     Pause (keeps current state)
⏹️  STOP      Stop and reset parameters
🔄 RESET     Clear everything and start fresh

┌──────────────────────────────────────────────────────────────────────┐
│                     📊 SIGNAL SELECTOR BUTTONS                        │
└──────────────────────────────────────────────────────────────────────┘

Click to switch between signals:

💓 LVP        Left Ventricular Pressure (pink, 0-140 mmHg)
💙 RVP        Right Ventricular Pressure (cyan, 0-30 mmHg)
📦 LVV        Left Ventricular Volume (pink, 50-150 ml)
📦 RVV        Right Ventricular Volume (cyan, 50-150 ml)
🌊 Flows      All 4 valve flows (multi-color overlay)
🔄 PV Loops   Pressure-Volume relationships (LV & RV)
🩸 Arterial   Aortic & Pulmonary pressures

┌──────────────────────────────────────────────────────────────────────┐
│                      🎛️  LEFT PANEL CONTROLS                          │
└──────────────────────────────────────────────────────────────────────┘

🔴 ROTARY VAD
   ⚡ Pump ON/OFF
   🔄 Speed: 0-12,000 RPM
   💓 Pulsation: 0.0-1.0
   📈 Ramp Mode: ON/OFF
   ⏰ Phase: 0-360°

💊 HEART DISEASE
   💪 LV Contractility: 0.0-2.7 (default 2.0)
   💙 RV Contractility: 0.0-2.0 (default 1.2)
   🔴 Aortic Stenosis: 0.0-1.0
   🔵 Mitral Regurgitation: 0.0-1.0

📊 VITAL SIGNS
   💗 Heart Rate: 40-180 bpm (default 75)
   🩸 Blood Volume: 3000-7000 ml (default 5300)
   🌡️  Systemic Resistance: 0.05-0.30
   💨 Systemic Compliance: 0.1-0.5

🖥️  DISPLAY
   📺 Window: 5-30 seconds (default 10)
   
┌──────────────────────────────────────────────────────────────────────┐
│                       📈 HOW TO USE - WORKFLOW                        │
└──────────────────────────────────────────────────────────────────────┘

1. Press ▶️ PLAY to start simulation
2. Adjust sliders on the LEFT to change parameters
3. Click signal buttons to view different signals
4. Watch the SCROLLING display (shows last N seconds)
5. Check METRICS at the bottom
6. Export data when needed

┌──────────────────────────────────────────────────────────────────────┐
│                      🔬 HEMODYNAMIC METRICS                           │
└──────────────────────────────────────────────────────────────────────┘

Displayed at bottom of screen:

Blood Pressure  → Systolic/Diastolic (mmHg)
MAP             → Mean Arterial Pressure (mmHg)
Cardiac Output  → Blood flow from heart (L/min)
Stroke Volume   → Blood per heartbeat (ml)
Ejection Fraction → % blood ejected (%)
Mean PAP        → Pulmonary artery pressure (mmHg)

Normal values:
- BP: ~120/80 mmHg
- MAP: ~90 mmHg
- CO: ~5 L/min
- SV: ~70 ml
- EF: ~60%
- PAP: ~15 mmHg

┌──────────────────────────────────────────────────────────────────────┐
│                        💾 DATA EXPORT                                 │
└──────────────────────────────────────────────────────────────────────┘

Three export options:

📊 Export CSV      → All time-series data (LVP, RVP, flows, etc.)
⚙️  Export Params  → JSON with all parameter settings
📄 Export Report   → Text summary with metrics

┌──────────────────────────────────────────────────────────────────────┐
│                      🎓 EXAMPLE SCENARIOS                             │
└──────────────────────────────────────────────────────────────────────┘

📚 Scenario 1: Normal Heart
   - Keep all defaults
   - Click through different signals
   - Observe normal waveforms

💔 Scenario 2: Heart Failure
   - Reduce LV Contractility to 0.8
   - Watch BP drop
   - See reduced Cardiac Output
   - Note wider PV loop

⚡ Scenario 3: VAD Support
   - Set LV Contractility to 0.8
   - Turn Pump ON
   - Set Speed to 5000 RPM
   - Watch BP recover
   - See CO increase

🚨 Scenario 4: Valve Disease
   - Add Aortic Stenosis (0.5)
   - See increased LV pressure
   - Note reduced flow

⏲️  Scenario 5: Tachycardia
   - Increase HR to 140 bpm
   - Watch shorter filling time
   - See reduced stroke volume

┌──────────────────────────────────────────────────────────────────────┐
│                          🎨 VISUAL GUIDE                              │
└──────────────────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────────────┐
│  🎮 [▶️  PLAY] [⏸️  PAUSE] [⏹️  STOP] [🔄 RESET]    🟢 RUNNING  │
├──────────────────────────────────────────────────────────────────┤
│                                                                  │
│  ┌─────────────┐  ┌───────────────────────────────────────────┐│
│  │             │  │  📊 SIGNAL DISPLAY                        ││
│  │  🔴 VAD     │  │                                           ││
│  │  ━━━━━━━    │  │  [💓LVP][💙RVP][📦LVV][📦RVV][🌊Flows]   ││
│  │             │  │  [🔄PV][🩸Arterial]                       ││
│  │  💊 HEART   │  │                                           ││
│  │  ━━━━━━━    │  │  ╔══════════════════════════════════╗   ││
│  │             │  │  ║                                  ║   ││
│  │  📊 VITALS  │  │  ║     ╱╲    ╱╲    ╱╲    ╱╲        ║   ││
│  │  ━━━━━━━    │  │  ║   ╱    ╲╱    ╲╱    ╲╱    ╲      ║   ││
│  │             │  │  ║ ╱                          ╲    ║   ││
│  │  🖥️  DISPLAY │  │  ║                              ╲  ║   ││
│  │  ━━━━━━━    │  │  ╚══════════════════════════════════╝   ││
│  │             │  │                                           ││
│  └─────────────┘  └───────────────────────────────────────────┘│
│                                                                  │
├──────────────────────────────────────────────────────────────────┤
│  📊 METRICS:  BP: 120/80  MAP: 90  CO: 5.2  SV: 70  EF: 60%    │
├──────────────────────────────────────────────────────────────────┤
│  [📊 CSV] [⚙️  Params] [📄 Report]               🟢 ACTIVE     │
└──────────────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────────────────┐
│                         💡 PRO TIPS                                   │
└──────────────────────────────────────────────────────────────────────┘

💪 Contractility Effects:
   - Higher Emaxlv → Higher BP, narrower PV loop
   - Lower Emaxlv → Lower BP, wider PV loop
   
🩸 Blood Volume Effects:
   - Higher TBV → Higher filling, higher output
   - Lower TBV → Lower filling (hypovolemia)
   
🌡️  Resistance Effects:
   - Higher Rsa → Higher BP (afterload)
   - Lower Rsa → Lower BP (vasodilation)
   
🔄 Pump Speed Effects:
   - Higher RPM → More unloading, higher BP
   - Watch for suction events at very high speeds

📺 Display Window:
   - Smaller window (5s) → See fewer cycles, better detail
   - Larger window (30s) → See trends over time

🎯 Quick Signal Checks:
   - LVP: Should peak ~120 mmHg
   - RVP: Should peak ~25 mmHg
   - Flows: Should be smooth, no negative flow
   - PV Loops: Should be closed loops

┌──────────────────────────────────────────────────────────────────────┐
│                      🚀 GETTING STARTED                               │
└──────────────────────────────────────────────────────────────────────┘

Step 1: Install requirements
   $ pip install -r requirements.txt

Step 2: Run the app
   $ streamlit run app_vad_single_plot.py

Step 3: Open browser
   → http://localhost:8501

Step 4: Explore!
   → Click different signals
   → Adjust sliders
   → Watch real-time updates

┌──────────────────────────────────────────────────────────────────────┐
│                         ❓ TROUBLESHOOTING                            │
└──────────────────────────────────────────────────────────────────────┘

Problem: Simulation not updating
Fix: Check if status shows 🟢 RUNNING (press ▶️  PLAY)

Problem: Plot looks strange
Fix: Try different signal or press 🔄 RESET

Problem: Need more cycles visible
Fix: Increase "Window" slider to 20-30 seconds

Problem: Want to see all signals at once
Fix: Use the old app_vad_modern.py (has 6-plot grid)

Problem: Export not working
Fix: Wait for simulation to complete first

┌──────────────────────────────────────────────────────────────────────┐
│                       📚 ADDITIONAL RESOURCES                         │
└──────────────────────────────────────────────────────────────────────┘

README.md              → Detailed documentation
cardiovascular_model.py → Source code for heart model
requirements.txt       → Python dependencies

For questions or issues:
- Check the README.md first
- Review the code comments
- Experiment with different settings!

═══════════════════════════════════════════════════════════════════════

Made with ❤️  for cardiovascular research and education

Happy simulating! 🫀🚀

═══════════════════════════════════════════════════════════════════════
